{"version":3,"sources":["assets/images/logo.png","assets/weather-icon/cloudy.png","assets/weather-icon/foggy.png","assets/weather-icon/p-cloudy.png","assets/weather-icon/rain.png","assets/weather-icon/sleet.png","assets/weather-icon/snow.png","assets/weather-icon/sunny.png","assets/weather-icon/windy.png","api/ajax.js","api/index.js","utils/memoryUtils.js","utils/storageUtils.js","pages/login/login.jsx","config/menuList.js","components/left-nav/index.jsx","utils/dateUtils.js","components/header/index.jsx","pages/home/home.jsx","pages/category/category.jsx","pages/product/rich-text-editor.jsx","pages/product/add-update.jsx","pages/product/detail.jsx","pages/product/home.jsx","utils/constants.js","pages/product/product.jsx","pages/role/home.jsx","pages/role/role.jsx","pages/user/user.jsx","pages/charts/Pie.jsx","pages/charts/line.jsx","pages/charts/bar.jsx","pages/admin/admin.jsx","App.js","index.js"],"names":["module","exports","ajax","url","data","method","axios","get","params","post","reqLogin","username","password","reqCategoryList","parentId","reqAddCategory","categoryName","reqUpdateCategory","categoryId","reqProductList","pageNum","pageSize","reqSearchProduct","searchInfo","reqSearchCategoryName","reqUpdateProductStatus","reqAddProduct","reqUpdateProduct","reqDeleteProduct","_id","reqDeleteImg","name","reqAddRole","roleName","reqUpdateRole","reqAddUser","reqDeleteUser","userId","reqUpdateUser","user","store","set","remove","Login","login","values","console","log","then","response","result","memoryUtils","storageUtils","status","message","success","props","history","push","error","msg","catch","validator","rule","value","length","Promise","reject","test","resolve","to","className","src","logo","alt","onFinish","this","Item","rules","required","max","min","pattern","prefix","UserOutlined","placeholder","LockOutlined","type","htmlType","Component","menuList","title","icon","key","children","Sider","SubMenu","IconMap","HomeOutlined","UnorderedListOutlined","AppstoreOutlined","ToolOutlined","SafetyCertificateOutlined","BarChartOutlined","PieChartOutlined","LineChartOutlined","LeftNav","state","collapsed","hasAuth","item","menus","role","indexOf","find","child","getMenuList","path","location","pathname","map","cItem","openKey","menuNodes","selectKey","style","minHeight","theme","selectedKeys","mode","defaultOpenKeys","withRouter","formatDate","time","date","Date","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","iconMap","cloudy","sunny","foggy","windy","rain","pcloudy","sleet","snow","Header","getTime","intervalId","setInterval","currentTime","now","setState","getTitle","forEach","logout","confirm","content","ExclamationCircleOutlined","onOk","replace","weatherCondition","latitude","longitude","jsonp","param","alert","lat","lon","reqLocation","currently","summary","reqWeather","ddd","clearInterval","onClick","Home","Option","Category","formRef","React","createRef","addFormRef","loading","category","parentName","subCategory","showStatus","fields","modifiedName","getCategoryList","categorys","showSubCategory","showCategory","showAddCategory","current","setFieldsValue","showUpdateCategory","addCategory","validateFields","addForm","resetFields","ShowTheObject","obj","des","updateCategory","hideModal","columns","dataIndex","width","render","tableIntializer","ArrowRightOutlined","extra","PlusOutlined","layout","ref","onFieldsChange","changedFields","allFields","visible","onCancel","okText","cancelText","label","initialValue","autoComplete","allowClear","dataSource","bordered","pagination","showQuickJumper","rowKey","RichTextEditor","editorState","getContent","toHTML","handleEditorChange","myUploadFn","xhr","XMLHttpRequest","fd","FormData","errorFn","upload","addEventListener","event","progress","loaded","total","JSON","parse","responseText","meta","id","append","file","open","send","initialInput","htmlContent","BraftEditor","createEditorState","onChange","contentStyle","language","media","uploadFn","accepts","image","imageControls","TextArea","ProductAddUpdate","options","previewVisible","previewImage","previewTitle","fileList","editorRef","handleCancel","handlePreview","a","preview","getBase64","originFileObj","substring","lastIndexOf","handleChange","fileName","err","reader","FileReader","readAsDataURL","onload","onerror","getFieldsValue","imgs","categoryInfo","productCategory","pCategoryId","detail","isUpdate","goBack","iniOptions","isLeaf","product","c","option","loadData","selectedOptions","targetOption","setFormInfo","desc","price","img","uid","uploadButton","fontsize","ArrowLeftOutlined","labelCol","span","wrapperCol","scrollToFirstError","getFieldValue","changeOnSelect","action","listType","onPreview","accept","footer","ProductDetail","pCategoryName","getCategoryName","query","imgsTag","imgOne","border","height","margin","categoryTag","dangerouslySetInnerHTML","__html","ProductHome","productList","searchResult","formData","searchData","productName","productDesc","list","showModal","tableInitializer","updateProductStatus","color","getProductDetails","confirmDeletion","deleteProducts","fontWeight","fontSize","onPageChange","page","getProductList","productId","totalNum","Product","component","Role","modifyForm","selectedRole","roles","modifiedRole","create_time","auth_time","setAccess","checkedKeys","handleOk","inputName","getRoleList","onRow","submit","valueOf","auth_name","go","info","setTimeout","newRole","treeData","rowSelection","selectedRowKeys","selectedRows","padding","disabled","checkable","autoExpandParent","onSelect","selectable","defaultExpandAll","marginTop","marginBottom","marginLeft","borderRadius","marginRight","User","users","addOrUpdate","modifyUser","deleteUser","QuestionCircleOutlined","delete","inputPWD","inputPhone","phone","inputEmail","email","selectRole","role_id","getUserList","errorInfo","getSelectOptions","Pie","Line","Bar","Admin","Footer","Content","backgroundColor","textAlign","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d5cab05a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ba1f87ec.png\";","module.exports = __webpack_public_path__ + \"static/media/cloudy.19fff917.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/p-cloudy.3921549a.png\";","module.exports = __webpack_public_path__ + \"static/media/rain.65353ec2.png\";","module.exports = __webpack_public_path__ + \"static/media/sleet.0d2b7864.png\";","module.exports = __webpack_public_path__ + \"static/media/snow.cdced261.png\";","module.exports = __webpack_public_path__ + \"static/media/sunny.27341875.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAASuklEQVR4nO3df2hWV5oH8O9z7xtjLCYmb+yUsh0Tal27Yt+0oa6VYSgtg3+0YP9owGFh3GVaXWeqi3RpEY1zMe3alikyahH7YxkXFlzchQrtH1JaBrZYxyE2r5JRWsU4LqWM+S0mprnvffaPvNrWqvlxzptz7vt+P1Ao9D3nPLfc++T+OOc5ABEREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREVHlENcBUHl7eNvAoiRMVkK1RRE8KNAmAPcAqAMwt/izawCGAHytkB5BcgYiXUEhOP75q/UXHYVeEZgAyK5Ig9z4wCoE2ibQpxRyv0l3Aj2vkA+RyOF8Vf0xRJLYCpWYAMiSZdFQQyYuPA/RDQCaSzTMBagciDPhO91RXX+JxqgoTABkZMXW4exY5puXAPk1gLtmadirgL5VHc9548Su2r5ZGrMsMQHQjLS1afjF0r6NgHQAWOAojEFA25ecze4/fFgKjmJINSYAmrblUe/SIJGDUKxwHQsAQHAiCXTd6ajxrOtQ0iZwHQClS8uO3nVBQU56c/EDgGJFUJCTLTt617kOJW14B0BT8nikmYHCwG5AX3Ady53JvvqwfssfIoldR5IGTAA0qabowtzaQt0hga5xHctUKOTIcDi0tidqvuY6Ft8xAdAdNUUX5tYVat8HsNp1LNN0dCgcfoZJ4M74DoBu6/FIM7WFukNI38UPAKtrC3WHHo804zoQnzEB0G0NFAZ2p+W2/1YEumbivQXdDh8B6JZadvSuU5Xfu47DBhH9x66djQddx+EjJgD6geVR79KgICcB1LiOxZLRJNRHOE/gh/gIQN/T1qZhkMhBlM/FDwA1QSIH29o0dB2Ib5gA6Hu+WNq30atJPrYoVkxMXabv4iMA3TCxsGf8HEozt39YoR9A5BPVpKsmru5ZdG7+IABcXHxlwWhmrEkkaIHqEwJ5GkBtCWIYrI6rFnMB0bf4iYRuKK7qs33xfwnBrnlXRg59tvu+0e/+hxPf/mtf8Z9OAO89tuVSzcj8eWuh2ArgAYuxLJg4Rrxssc9U4x0AASiu5y/E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1r035Und/HxHtvvqYMOjAH6D0k4WGgXwm6uDDY/6+MLvVpgAPOey7r0pn+rmn9srY/mO7E4NsURE92Niw1Nbronofg2xJN+R3enbp7474VJbzxXf9s+4reVwpqUmru4Zy4ybdGG9bn5xFt6vWqPhHXE8vg6i/zDzpcT6OVT+M5OpOujDwp6ZYALwnMu696YWnZs/+MXSaa3puVnJVvcVL9g3Abz5UNT3NyjoEwD+XhD8HaBNABYCuKv486sALgPSUyzj9UeE8smpqNGbKb0zxQTgP6O6921tGh4+LAVr0ZSh4l3BfxT/qSh8B+A/o2fVi4uvLLAViIOxbT6n0y0wAfhvyKTxaGasyVIcLsY2OnaaHBOA/742aSwSWKph52Rso2OnyTEBeE7NN754wk4kLsaWC3YCodthAvCcIDlj1l6efmzLJVvluqbssS2XaorFQw0kZ+1EQ7fDBOA7EdPJNLUj8+ettRLLNBTHNKscbH7sNAkmAM8FheC4cSeKra3rtcpCOFPSul6rihWDjVg5drojJgDPff5q/UULZbYeiO/u32wloCkojmVUC0Cg52daC4CmjgkgBRTyoXEngo5ce98yC+HcUa69b1mxTLgRK8dMk2ICSINEDlvopUagR1qj4UYLfd1SazTcKNAjsLFHgJ1jpkkwAaRAvqr+GADjT2IKuT+Oxz8qRRJojYYb43j8I4Xcb6G7C8VjphJjAkiDSBKoHLDSl6ClUPjmuM3HgVx737JC4Zvj1jbOVDmASBIrfdEdMQGkRJwJ38HEqjRjxb/Sf8pt73vR5OtA63qtym3vexHAnyz95QeAq8VjpVnAoqApkmvvfR2Qlyx3+yUEu+ZdGTn02e77plQtx7fNQWnmmABSZMXW4exYZvwcgFKs8BtW6AcQ+UQ16aqJq3sWnZs/CEys6vN5e3CaOSaAlMm1974AiNeVZmdON+U7Gve5jqKS8B1Ayiw5m90PwQnXcVgnOLHkbHa/6zAqDRNAyhw+LIUk0HVIx1bYUzWaBLqOlYtmHxNACp2OGs+K6EbXcdgiohtPR41c+ecAE0BKde1sPAhIGTwvy76JYyEXmABSrD6s36KQI67jmCmFHKkP67e4jqOS8StAyjVFF+bWFWrfB7DadSzTdHQoHH6mJ2pm4U+HeAeQcj1R87WhcPiZNN0JKOQIL34/MAGUgZ6o+VpDWP9sOt4JyL6GsP5ZXvx+4CNAmWnZ0btOVfbDxpJcu0ZFdCNf+PmFCaAMLY96lwaJHIRihetYAACCE0mg6/ipzz98BChDp6PGs0vONKwCdBOAQYehDAK6acmZhlW8+P3EO4AyN7GA6JuXAPk1vt3sstSuAvpWdTznDS7s8RsTQIVYFg01ZOLC8xDdAKC5RMNcgMqBOBO+0x3VGW0LTLODCaDSRBrkxgdWIdA2gT5lWshDoOcV8iESOZyvqj/GSj7pwgRQ4R7eNrAoCZOVUG0BgqWANgO4B0AdgLnFn13DxEadX09s15WchUhXUAiOs3Q3ERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERzdT/A9VvAPj5bcXzAAAAAElFTkSuQmCC\"","/*\r\n    send asynchronized requests\r\n    use axios library\r\n    return value of the function is a promise object so that the result can be used for further operations\r\n */\r\n\r\nimport axios from 'axios'\r\n\r\nexport default function ajax(url, data = {}, method = 'GET') {\r\n    if(method === 'GET') {\r\n        return axios.get(url, {\r\n            params: data\r\n        })\r\n    }\r\n    else {\r\n        return axios.post(url, data)\r\n    }\r\n} \r\n","import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\nexport const reqLogin = (username, password) => ajax('/login', {username, password}, 'POST')\r\n\r\nexport const reqAdduser = (userInfo) => ajax('/manager/user/add', userInfo, 'POST')\r\n\r\nexport const reqLocation = () => {\r\n    const url = 'http://ip-api.com/json'\r\n    console.log(url)\r\n    return new Promise((resolve) => {\r\n        jsonp(url, {\r\n            param : 'callback'\r\n        }, (error, response) => {\r\n            if (!error && response.status === 'success') {\r\n                const latitude = response.lat\r\n                const longitude = response.lon\r\n                console.log(latitude)\r\n                resolve({latitude, longitude})\r\n            } else {\r\n                alert('location load failed!')\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nexport const reqCategoryList = (parentId) => ajax('/manage/category/list', {parentId}, 'GET')\r\n\r\nexport const reqAddCategory = (parentId, categoryName) => ajax('/manage/category/add', {parentId, categoryName}, 'POST')\r\n\r\nexport const reqUpdateCategory = (categoryId, categoryName) => ajax('/manage/category/update', {categoryId, categoryName}, 'POST')\r\n\r\nexport const reqWeather = (latitude, longitude) => {\r\n    const url = 'https://api.forecast.io/forecast/7bed1e6e8d5e3bffa65c55c1f9fa190e/'+latitude+','+longitude+'?exclude=minutely,hourly,alerts,flags'\r\n    return new Promise((resolve, reject) => {\r\n        jsonp(url, {\r\n            param: 'callback'\r\n        }, (error, response) => {\r\n            if (!error && response.currently) {\r\n                const result = response.currently\r\n                var icon = ''\r\n                switch(result.icon) {\r\n                    case \"clear-day\" || \"clear-night\" :\r\n                        icon = \"sunny\"\r\n                        break;\r\n                    case \"rain\" :\r\n                        icon = \"rain\"\r\n                        break;\r\n                    case \"snow\" :\r\n                        icon =\"snow\"\r\n                        break\r\n                    case \"sleet\" :\r\n                        icon = \"sleet\"\r\n                        break\r\n                    case \"wind\":\r\n                        icon = \"windy\"\r\n                        break\r\n                    case \"fog\":\r\n                        icon = \"foggy\"\r\n                        break\r\n                    case \"cloudly\":\r\n                        icon = \"cloudy\"\r\n                        break\r\n                    case \"partly-cloudy-day\" || \"partly-cloudy-night\":\r\n                        icon = \"pcloudy\"\r\n                        break\r\n                    default:\r\n                        icon = \"sunny\"\r\n                }\r\n                const weatherCondition = result.summary\r\n                resolve({weatherCondition, icon})\r\n            } else {\r\n                alert('weather load failed!')\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nexport const reqProductList = (pageNum = 1, pageSize) => ajax('/manage/product/list', {pageNum, pageSize}, 'GET')\r\n\r\nexport const reqSearchProduct = (searchInfo) => ajax('/manage/product/search', searchInfo, 'GET');\r\n\r\nexport const reqSearchCategoryName = (categoryId) => ajax('/manage/category/info', {categoryId}, 'GET');\r\n\r\nexport const reqUpdateProductStatus = (data) => ajax('/manage/product/updateStatus', data, 'POST')\r\n\r\nexport const reqAddProduct = (data) => ajax('/manage/product/add', data, 'POST')\r\n\r\nexport const reqUpdateProduct = (data) => ajax('/manage/product/update', data, 'POST')\r\n\r\nexport const reqDeleteProduct = (_id) => ajax('/manage/product/delete', {_id}, 'POST')\r\n\r\nexport const reqDeleteImg = (name) => ajax('/manage/img/delete', {name}, 'POST')\r\n\r\nexport const reqRoleList = () => ajax('/manage/role/list', {}, 'GET')\r\n\r\nexport const reqAddRole = (roleName) => ajax('/manage/role/add', {roleName}, 'POST')\r\n\r\nexport const reqUpdateRole = (data) => ajax('/manage/role/update', data, 'POST')\r\n\r\nexport const reqUserList = () => ajax('/manage/user/list', {}, 'GET')\r\n\r\nexport const reqAddUser = (data) => ajax('/manage/user/add', data, 'POST')\r\n\r\nexport const reqDeleteUser = (userId) => ajax('/manage/user/delete', {userId}, 'POST')\r\n\r\nexport const reqUpdateUser = (data) => ajax('/manage/user/update', data, 'POST')","/*\r\n    Utils components used to store data in memory\r\n */\r\nexport default {\r\n    user: {}\r\n}","/*\r\n    Utils component to manage local storage data\r\n */\r\n\r\nimport store from 'store'\r\nconst USER_KEY = 'user_key'\r\nexport default {\r\n    /*\r\n        store userInfo\r\n        read userInfo\r\n        remove userInfo\r\n     */\r\n\r\n    saveUser(user) {\r\n        store.set(USER_KEY, user)\r\n    },\r\n\r\n    getUser() {\r\n        return store.get(USER_KEY)||{}\r\n    },\r\n\r\n    removeUser() {\r\n        store.remove(USER_KEY)\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport './login.less'\r\nimport logo from '../../assets/images/logo.png'\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport {reqLogin} from \"../../api\";\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\nimport storageUtils from \"../../utils/storageUtils\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n//login router component\r\nexport default class Login extends Component {\r\n    login = values => {\r\n        console.log('Received values of form: ', values);\r\n        const {username, password} = values;\r\n        reqLogin(username, password).then(\r\n            response => {\r\n                const result = response.data\r\n                const user = result.data\r\n                memoryUtils.user = user  //store in memory\r\n                storageUtils.saveUser(user)\r\n                if(result.status === 0) {\r\n                    message.success(\"login successful!\")\r\n                    this.props.history.push('/')\r\n                } else {\r\n                    message.error(\"login failed!\"+result.msg)\r\n                }\r\n\r\n            }\r\n        ).catch(\r\n            error => {\r\n                message.error(\"login failed! reason: \" + error.message)\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    validator = (rule, value) => {\r\n        const re = /^[0-9a-zA-Z_]*$/\r\n        const length = value && value.length\r\n        if(!value) return Promise.reject('password is required!')\r\n        else if(length > 18) return Promise.reject('password length max 18');\r\n        else if(length < 4) return Promise.reject('password length at least 4');\r\n        else if (!re.test(value)) return Promise.reject('only characters, digits and _ are allowed');\r\n        else return Promise.resolve();\r\n    }\r\n\r\n    render() {\r\n\r\n        //if the user has logged in, just redirect to /admin component\r\n        const user = memoryUtils.user\r\n        if(user._id) {\r\n            //redirect to login component\r\n            //message.error('not logged in!')\r\n            return <Redirect to='/'/>\r\n        }\r\n\r\n        return (\r\n            /*\r\n                username/password validation requirement\r\n                    1). required\r\n                    2). length greater than 4\r\n                    3). length less than 12\r\n                    4). consists of characters, digits and _\r\n            */\r\n            <div className=\"login\">\r\n                <header className=\"login-header\">\r\n                    <img src = {logo} alt = \"123\"/>\r\n                    <h1>Welcome to my management system!</h1>\r\n                </header>\r\n                <div className=\"login-content\">\r\n                    <h2>Login</h2>\r\n                    <Form name=\"normal_login\"  className=\"login-form\" onFinish={this.login}>\r\n                        <Form.Item\r\n                            name=\"username\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please input your Username!'},\r\n                                {\r\n                                    max: 12,\r\n                                    min: 4,\r\n                                    message: 'Please check your input length(4-12)'},\r\n                                {\r\n                                    pattern: /^[0-9a-zA-Z_]*$/,\r\n                                    message: 'only characters,digits & _ are valid'},\r\n\r\n                            ]}\r\n                        >\r\n                            <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            rules={[\r\n                                {\r\n                                    validator: this.validator\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                            />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            Log in\r\n                         </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    /*\r\n        1. frontend form validation\r\n        2. collect input information\r\n     */\r\n\r\n\r\n}","\r\nconst menuList = [\r\n    {\r\n        title: \"Home\",\r\n        icon: 'HomeOutlined',\r\n        key: \"/home\"\r\n    },\r\n\r\n    {\r\n        title: \"User\",\r\n        icon: \"AppstoreOutlined\",\r\n        key: \"/user\",\r\n        children: [\r\n            {\r\n                title: 'Category',\r\n                icon: 'UnorderedListOutlined',\r\n                key: '/category',\r\n            },\r\n            {\r\n                title: 'Products',\r\n                icon: 'ToolOutlined',\r\n                key: '/product',\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        title: 'User Manage',\r\n        icon: 'HomeOutlined',\r\n        key: '/User'\r\n    },\r\n    {\r\n        title: 'Access Manage',\r\n        icon: 'SafetyCertificateOutlined',\r\n        key: '/role'\r\n    },\r\n    {\r\n        title: 'Data Analysis',\r\n        icon: 'UserOutlined',\r\n        key: '/data',\r\n        children: [\r\n            {\r\n                title: 'Bar Chart',\r\n                icon: 'BarChartOutlined',\r\n                key: '/bar',\r\n            },\r\n            {\r\n                title: 'Pie Chart',\r\n                icon: 'PieChartOutlined',\r\n                key: '/pie',\r\n            },\r\n            {\r\n                title: 'Line Chart',\r\n                icon: 'LineChartOutlined',\r\n                key: '/line',\r\n            }\r\n        ]\r\n    }\r\n]\r\nexport default menuList;","// eslint-disable-next-line\r\nimport React, {Component} from 'react'\r\nimport './index.less'\r\nimport logo from '../../assets/images/logo.png'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport { Layout, Menu } from 'antd';\r\n// eslint-disable-next-line\r\nimport {\r\n    HomeOutlined,\r\n    UnorderedListOutlined,\r\n    AppstoreOutlined,\r\n    ToolOutlined,\r\n    SafetyCertificateOutlined,\r\n    UserOutlined,\r\n    BarChartOutlined,\r\n    PieChartOutlined,\r\n    LineChartOutlined\r\n} from '@ant-design/icons';\r\nimport menuList from '../../config/menuList'\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\n\r\nconst {Sider} = Layout;\r\nconst { SubMenu } = Menu;\r\nconst IconMap = {\r\n    HomeOutlined: <HomeOutlined />,\r\n    UnorderedListOutlined: <UnorderedListOutlined />,\r\n    AppstoreOutlined: <AppstoreOutlined />,\r\n    ToolOutlined: <ToolOutlined />,\r\n    SafetyCertificateOutlined: <SafetyCertificateOutlined />,\r\n    UserOutlined: <UserOutlined />,\r\n    BarChartOutlined: <BarChartOutlined />,\r\n    PieChartOutlined: <PieChartOutlined />,\r\n    LineChartOutlined: <LineChartOutlined />\r\n};\r\n/*\r\n    this file defines the navigation part on the left side\r\n */\r\n\r\nclass LeftNav extends Component {\r\n    state = {\r\n        collapsed: false,\r\n    };\r\n\r\n\r\n\r\n    hasAuth = (item) => {\r\n        //1. if this user is admin, return true\r\n        //2. if item is contained in the user menus, return true\r\n        //3. else return false\r\n\r\n        const key = item.key;\r\n        const menus = memoryUtils.user.role.menus;\r\n        const username = memoryUtils.user.username;\r\n        if(username === 'admin' || menus.indexOf(key) !== -1)\r\n            return true;\r\n        else if(item.children ) {\r\n            return !!item.children.find(child => menus.indexOf(child.key) !== -1)\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getMenuList= menuList => {\r\n        const path = this.props.location.pathname\r\n        return menuList.map(\r\n            item => {\r\n                if(this.hasAuth(item)) {\r\n                    if(!item.children) {\r\n                        return (\r\n                            <Menu.Item key={item.key} icon={ IconMap[item.icon] }>\r\n                                <Link to={item.key}>{item.title}</Link>\r\n                            </Menu.Item>\r\n                        )\r\n                    } else {\r\n                        if(item.children.find(cItem => path.indexOf(cItem.key)===0)) {\r\n                            this.openKey = item.key\r\n                        }\r\n                        return (\r\n                            <SubMenu key={item.key} icon={ IconMap[item.icon] } title={item.title}>\r\n                                {this.getMenuList(item.children)}\r\n                            </SubMenu>\r\n                        )\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.menuNodes = this.getMenuList(menuList)\r\n    }\r\n    render() {\r\n        let selectKey = this.props.location.pathname\r\n        const openKey = this.openKey\r\n        if(selectKey.indexOf('/product') !== -1)\r\n            selectKey = '/product';\r\n        return (\r\n            <div className=\"left-nav\">\r\n                <Link to=\"/home\" className=\"left-nav-header\">\r\n                    <img src={logo} alt = \"\"/>\r\n                    <h1 className=\"left-nav-title\">backend</h1>\r\n                </Link>\r\n                <Layout style={{ minHeight: '100vh' }}>\r\n                    <Sider>\r\n                        <div className=\"logo\" />\r\n                        <Menu theme=\"dark\" selectedKeys={[selectKey]} mode=\"inline\" defaultOpenKeys={[openKey]}>\r\n                            {\r\n                                this.menuNodes\r\n                            }\r\n                        </Menu>\r\n                    </Sider>\r\n                </Layout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(LeftNav)","export function formatDate(time) {\r\n    if(!time) return '';\r\n    else {\r\n        let date = new Date(time)\r\n        return date.getMonth()+1+\"/\"+date.getDate()+\"/\"+date.getFullYear()+\"-\"+date.getHours()+\":\"+date.getMinutes()+\":\"+date.getSeconds()\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport './index.less'\r\nimport { Modal, Button } from 'antd';\r\nimport {withRouter} from 'react-router-dom'\r\nimport menuList from \"../../config/menuList\";\r\nimport {reqLocation, reqWeather} from \"../../api\";\r\nimport storageUtils from \"../../utils/storageUtils\";\r\n// eslint-disable-next-line\r\nimport cloudy from '../../assets/weather-icon/cloudy.png'\r\n// eslint-disable-next-line\r\nimport foggy from '../../assets/weather-icon/foggy.png'\r\n// eslint-disable-next-line\r\nimport pcloudy from '../../assets/weather-icon/p-cloudy.png'\r\n// eslint-disable-next-line\r\nimport rain from '../../assets/weather-icon/rain.png'\r\n// eslint-disable-next-line\r\nimport sleet from '../../assets/weather-icon/sleet.png'\r\n// eslint-disable-next-line\r\nimport snow from '../../assets/weather-icon/snow.png'\r\n// eslint-disable-next-line\r\nimport sunny from '../../assets/weather-icon/sunny.png'\r\n// eslint-disable-next-line\r\nimport windy from '../../assets/weather-icon/windy.png'\r\nimport {message} from \"antd\";\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\nimport {formatDate} from '../../utils/dateUtils'\r\n\r\nconst iconMap = {\r\n    cloudy: cloudy,\r\n    sunny: sunny,\r\n    foggy: foggy,\r\n    windy: windy,\r\n    rain: rain,\r\n    pcloudy: pcloudy,\r\n    sleet: sleet,\r\n    snow: snow\r\n};\r\n/*\r\n    this file defines the navigation part on the left side\r\n */\r\nclass Header extends Component {\r\n\r\n    getWeather() {\r\n        let latitude = 0, longitude = 0;\r\n        reqLocation().then(\r\n            response => {\r\n                latitude = response.latitude\r\n                longitude = response.longitude\r\n                //console.log(latitude + ' ' + longitude)\r\n                return Promise.resolve({latitude, longitude})\r\n            }\r\n        ).catch(\r\n            error => {\r\n                message.error(\"get location failed! reason: \" + error.message)\r\n            }\r\n        ).then(\r\n            response => {\r\n                const result = response\r\n                reqWeather(result.latitude, result.longitude).then(\r\n                    ddd => {\r\n                        this.setState(ddd)\r\n                        //console.log(this.state)\r\n                    }\r\n                )\r\n            }\r\n        ).catch(\r\n            error =>  message.error(\"get weather failed! reason: \" + error.message)\r\n        )\r\n    }\r\n\r\n    getTime = () => {\r\n        this.intervalId = setInterval(() => {\r\n            const currentTime = formatDate(Date.now())\r\n            this.setState({currentTime})\r\n        }, 1000)\r\n    }\r\n\r\n    getTitle = () => {\r\n        const path = this.props.location.pathname;\r\n        //console.log(path)\r\n        let title\r\n        menuList.forEach(item => {\r\n            if(item.key === path)\r\n                title = item.title\r\n            else if(item.children) {\r\n                const cItem = item.children.find(child => (child.key === path))\r\n                if(cItem) title = cItem.title\r\n            }\r\n        })\r\n        return title\r\n    }\r\n\r\n    logout = () => {\r\n        Modal.confirm({\r\n            content: 'Are you sure to log out?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            onOk: () => {\r\n                memoryUtils.user = {};\r\n                storageUtils.removeUser();\r\n                this.props.history.replace('/login');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    state = {\r\n        weatherCondition: 'rainy',\r\n        icon: 'rain',\r\n        currentTime: formatDate(Date.now()),\r\n    }\r\n\r\n    componentDidMount() {\r\n        //this.getWeather()\r\n        this.getTime()\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.intervalId);\r\n    }\r\n\r\n    render() {\r\n        const title = this.getTitle()\r\n        const username = memoryUtils.user.username\r\n        const {weatherCondition, icon, currentTime} = this.state\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header-top\">\r\n                    <span>Hello, {username}!</span>\r\n                    <Button type = 'link' onClick={this.logout}>log out</Button>\r\n                </div>\r\n                <div className=\"header-bottom\">\r\n                    <div className='header-bottom-left'>{title}</div>\r\n                    <div className='header-bottom-right'>\r\n                        <span>{currentTime}</span>\r\n                        <img src={iconMap[icon]} alt=\"\"/>\r\n                        <span>{weatherCondition}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default withRouter(Header)","import React, {Component} from 'react'\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Home\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Card, Button, Table, message, Modal, Form, Select, Input} from 'antd'\r\nimport {PlusOutlined, ArrowRightOutlined} from \"@ant-design/icons\";\r\nimport {reqAddCategory, reqCategoryList, reqUpdateCategory} from \"../../api\"\r\n\r\n\r\nconst Option = Select.Option;\r\n\r\nexport default class Category extends Component {\r\n\r\n    formRef = React.createRef();\r\n    addFormRef = React.createRef();\r\n    state = {\r\n        loading: true,\r\n        category: [],\r\n        parentId: '0',\r\n        parentName: '',\r\n        subCategory: [],\r\n        showStatus: 0,\r\n        fields: {modifiedName: \"\"},\r\n        categoryName: \"\"\r\n    }\r\n\r\n    getCategoryList = (parentId) => {\r\n        reqCategoryList(parentId).then(\r\n            response => {\r\n                this.setState({loading: false});\r\n                const categorys = response.data.data;\r\n                if(this.state.parentId === '0') { // curent category is parentCategory\r\n                    this.setState({category: categorys});\r\n                } else {   //Now it's in subCategory\r\n                    this.setState({subCategory: categorys});\r\n                }\r\n            }\r\n        ).catch(\r\n            error => {\r\n                message.error(\"get category list failed! reason: \" + error.message)\r\n            }\r\n        )\r\n    }\r\n\r\n    showSubCategory = (category) => {\r\n        this.getCategoryList(category._id);\r\n        this.setState({parentId: category._id, parentName: category.name})\r\n        console.log(\"showSubcategory: \"+category)\r\n    }\r\n\r\n    showCategory = () => {\r\n        this.setState({parentId: '0', category: this.state.category})\r\n    }\r\n\r\n    tableIntializer() {\r\n        this.columns = [\r\n            {\r\n                title: 'category title',\r\n                dataIndex: 'name',\r\n                key: 'name',\r\n            },\r\n            {\r\n                title: 'Action',\r\n                width: \"30%\",\r\n                render: (category) => {\r\n                    return (\r\n                        <span>\r\n                            <Button type = 'link' onClick = {() => this.showUpdateCategory(category)}>Modify</Button>\r\n                            {this.state.parentId === '0' ? <Button type = 'link' onClick ={() => this.showSubCategory(category)}> SubCategory</Button> : null}\r\n                        </span>\r\n                    )\r\n                }\r\n            }\r\n        ];\r\n    }\r\n\r\n    showAddCategory = () => {\r\n        this.setState({\r\n            showStatus: 1,\r\n        });\r\n        console.log(this.state.parentId)\r\n        this.addFormRef.current.setFieldsValue({\r\n            parentName: this.state.parentId\r\n        })\r\n    };\r\n\r\n    showUpdateCategory = (category) => {\r\n        //console.log(\"showUpdateCategory: \"+category)\r\n        this.category = category\r\n        this.setState({\r\n            showStatus: 2,\r\n        });\r\n        this.setState({categoryName: category.name});\r\n        this.formRef.current.setFieldsValue({\r\n            modifiedName:category.name\r\n        })\r\n    };\r\n\r\n    addCategory = () => {\r\n        this.addFormRef.current.validateFields()\r\n            .then(values => {\r\n                const {addForm} = this.state\r\n                const categoryName = addForm[1].value;\r\n                const parentId = addForm[0].value;\r\n                //console.log(\"categoryName: \"+categoryName+\" parentId: \"+parentId);\r\n                this.setState({\r\n                    showStatus: 0\r\n                })\r\n                if(parentId && categoryName) {\r\n                    reqAddCategory(parentId, categoryName).then(\r\n                        response => {\r\n                            if(response.data.status === 0) {\r\n                                message.success(\"Add category successful!\");\r\n                                if(this.state.parentId === response.data.data.parentId)\r\n                                    this.getCategoryList(this.state.parentId);\r\n                            } else {\r\n                                message.error(\"Error when adding the category list\");\r\n                                //console.log(response);\r\n                            }\r\n                        }\r\n                    )\r\n                } else {\r\n                    message.error(\"information missing!\");\r\n                }\r\n                this.addFormRef.current.resetFields();\r\n            })\r\n            .catch(error => {\r\n                //console.log(error);\r\n                message.error(\"Please input the categoryName\");\r\n            })\r\n\r\n    };\r\n\r\n    ShowTheObject = (obj) => {\r\n        let des = \"\";\r\n        for(let name in obj){\r\n            des += name + \":\" + obj[name] + \";\";\r\n        }\r\n        console.log(des);\r\n    }\r\n\r\n    updateCategory = () => {\r\n        this.formRef.current.validateFields()\r\n            .then( values => {\r\n                //console.log(\"Now Update the category!\"+this.state.parentId);\r\n                this.setState({showStatus: 0});\r\n                const categoryId = this.category._id;\r\n                //console.log(\"UpdateCategory: \" + categoryId);\r\n                let categoryName;\r\n                if(this.state.fields) {\r\n                    this.ShowTheObject(this.state.fields);\r\n                    categoryName = this.state.fields[0].value;\r\n                    console.log(\"UpdateCategory: \" + categoryName);\r\n                } else\r\n                    message.error(\"Please input a valid modified name!\");\r\n                if(categoryId && categoryName) {\r\n                    reqUpdateCategory(categoryId, categoryName).then(\r\n                        response => {\r\n                            if(response.data.status === 0) {\r\n                                message.success(\"Update successful!\");\r\n                                this.getCategoryList(this.state.parentId);\r\n                            } else {\r\n                                message.error(\"Error when updating the category list\");\r\n                                //console.log(response);\r\n                            }\r\n                        }\r\n                    )\r\n                } else {\r\n                    message.error(\"information missing!\");\r\n                }\r\n                this.formRef.current.resetFields();\r\n            })\r\n            .catch(error => {\r\n                //console.log(\"Invalid input ! Please check again.\");\r\n                message.error(\"Invalid input ! Please check again.\");\r\n            })\r\n\r\n    };\r\n\r\n    hideModal = () => {\r\n        this.setState({\r\n            showStatus: 0,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getCategoryList(0);\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.tableIntializer();\r\n    }\r\n\r\n    render() {\r\n        const title = this.state.parentId === '0' ? \"Category List\" : (\r\n            <span>\r\n                <Button type = 'link' onClick = {this.showCategory}>Base Category List</Button>\r\n                <span>\r\n                    <ArrowRightOutlined />&nbsp;&nbsp;&nbsp;{this.state.parentName}\r\n                </span>\r\n            </span>\r\n        );\r\n        const extra = \"Add More\";\r\n\r\n        return (\r\n            <Card title={title} extra={<Button type = 'primary' icon = {<PlusOutlined />} onClick = {this.showAddCategory} >{extra}</Button>} >\r\n                <Form\r\n                    name = \"add-form\"\r\n                    layout={\"vertical\"}\r\n                    ref = {this.addFormRef}\r\n                    onFieldsChange={(changedFields, allFields) => {\r\n                        this.setState({\r\n                            addForm: allFields\r\n                        })\r\n                        console.log(111);\r\n                    }}\r\n                >\r\n                    <Modal\r\n                        title=\"Add new categories\"\r\n                        visible={this.state.showStatus === 1}\r\n                        onOk={this.addCategory}\r\n                        onCancel={this.hideModal}\r\n                        okText=\"Submit\"\r\n                        cancelText=\"Cancel\"\r\n                    >\r\n\r\n                    <Form.Item\r\n                        label=\"Parent Category\"\r\n                        name = \"parentName\"\r\n                        initialValue= {this.state.parentId}\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input the categoryName!'}\r\n                        ]}>\r\n                        <Select>\r\n                            <Option value = '0' key = '0'>Root Category</Option>\r\n                            {\r\n                                this.state.category.map(Item => <Option value = {Item._id} key = {Item._id}>{Item.name}</Option>)\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name = \"categoryName\"\r\n                        label = \"category Name\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input the categoryName!'},\r\n                            {\r\n                                pattern: /^[0-9a-zA-Z ]*$/,\r\n                                message: 'only characters,digits & blanks are valid'},\r\n\r\n                        ]}>\r\n                        <Input placeholder=\"Please input the category name\"  />\r\n                    </Form.Item>\r\n                    </Modal>\r\n                </Form>\r\n                <Form\r\n                    layout=\"vertical\"\r\n                    name = \"update-form\"\r\n                    ref = {this.formRef}\r\n                    onFieldsChange={(changedFields, allFields) => {\r\n                        this.setState({\r\n                            fields: allFields\r\n                        })\r\n                    }}\r\n\r\n                >\r\n                    <Modal\r\n                        title=\"Update categories\"\r\n                        visible={this.state.showStatus === 2}\r\n                        onOk={this.updateCategory}\r\n                        onCancel={this.hideModal}\r\n                        okText=\"Submit\"\r\n                        cancelText=\"Cancel\"\r\n                    >\r\n\r\n                    <Form.Item\r\n                        label=\"Modified Name\"\r\n                        name = \"modifiedName\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input the new Name!'},\r\n                            {\r\n                                pattern: /^[0-9a-zA-Z ]*$/,\r\n                                message: 'only characters,digits & blanks are valid'},\r\n                        ]}>\r\n                        <Input placeholder=\"Please input the new name\" autoComplete=\"off\" name = \"inputName\" allowClear={true}/>\r\n                    </Form.Item>\r\n                    </Modal>\r\n                </Form>\r\n                <Table\r\n                    loading={this.state.loading}\r\n                    dataSource={ this.state.parentId === '0' ? this.state.category : this.state.subCategory}\r\n                    columns={this.columns}\r\n                    bordered\r\n                    pagination={{ pageSize: 5,  showQuickJumper: true}}\r\n                    rowKey = '_id'\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport BraftEditor from 'braft-editor'\r\nimport 'braft-editor/dist/index.css'\r\nimport {message} from 'antd'\r\n\r\nexport default class RichTextEditor extends Component {\r\n    state = {\r\n        editorState: null\r\n    }\r\n\r\n    async componentDidMount () {\r\n\r\n        const {initialInput} = this.props;\r\n        console.log(\"initialInput: \")\r\n        console.log(initialInput)\r\n        // Assume here to get the editor content in html format from the server\r\n       // const htmlContent = await fetchEditorContent()\r\n        const htmlContent = BraftEditor.createEditorState(initialInput);\r\n        // Use BraftEditor.createEditorState to convert html strings to editorState data needed by the editor\r\n        this.setState({\r\n            editorState: BraftEditor.createEditorState(htmlContent)\r\n        })\r\n    }\r\n\r\n    getContent = () => {\r\n        // Pressing ctrl + s when the editor has focus will execute this method\r\n        // Before the editor content is submitted to the server, you can directly call editorState.toHTML () to get the HTML content\r\n        const htmlContent = this.state.editorState.toHTML()\r\n        //const result = await saveEditorContent(htmlContent)\r\n        return htmlContent;\r\n    }\r\n\r\n    handleEditorChange = (editorState) => {\r\n        this.setState({ editorState })\r\n    }\r\n\r\n    myUploadFn = (param) => {\r\n\r\n        // console.log(\"param.file: \")\r\n        // console.log(param.file)\r\n\r\n        const serverURL = '/manage/img/upload'\r\n        const xhr = new XMLHttpRequest()\r\n        const fd = new FormData()\r\n\r\n        const successFn = (response) => {\r\n            // \r\n            // param.success\r\n            // console.log(\"response: \")\r\n            // console.log(xhr.responseText)\r\n            const result = JSON.parse(xhr.responseText);\r\n            param.success({\r\n                url: result.data.url,\r\n                meta: {\r\n                    id: result.data.name,\r\n                    title: result.data.name,\r\n                    alt: 'image',\r\n                }\r\n            })\r\n        }\r\n\r\n        const progressFn = (event) => {\r\n            // param.progress\r\n            param.progress(event.loaded / event.total * 100)\r\n        }\r\n\r\n        const errorFn = (response) => {\r\n            // param.error\r\n            param.error({\r\n                msg: 'unable to upload.'\r\n            })\r\n            message.error('unable to upload.')\r\n        }\r\n\r\n        xhr.upload.addEventListener(\"progress\", progressFn, false)\r\n        xhr.addEventListener(\"load\", successFn, false)\r\n        xhr.addEventListener(\"error\", errorFn, false)\r\n        xhr.addEventListener(\"abort\", errorFn, false)\r\n\r\n        fd.append('image', param.file)\r\n        xhr.open('POST', serverURL, true)\r\n        xhr.send(fd)\r\n\r\n    }\r\n\r\n    render () {\r\n\r\n        const imageControls = [\r\n            'float-left',\r\n            'float-right',\r\n            'size',\r\n            'remove'\r\n        ]\r\n\r\n        const { editorState } = this.state\r\n        return (\r\n            <div className=\"my-component\">\r\n                <BraftEditor\r\n                    value={editorState}\r\n                    onChange={this.handleEditorChange}\r\n                    contentStyle={{width: \"100%\", minHeight: 150}}\r\n                    language= 'en'\r\n                    media={{uploadFn: this.myUploadFn, accepts: {image: 'image/*'}}}\r\n                    imageControls={imageControls}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, Card, Input, Form, Cascader, message, Upload, Modal} from \"antd\";\r\nimport {ArrowLeftOutlined, PlusOutlined} from \"@ant-design/icons\";\r\nimport {reqAddProduct, reqCategoryList, reqDeleteImg, reqUpdateProduct} from \"../../api\";\r\nimport RichTextEditor from \"./rich-text-editor\";\r\n\r\n\r\nconst {TextArea} = Input;\r\nconst Item = Form.Item\r\n\r\nexport default class ProductAddUpdate extends Component {\r\n\r\n    state = {\r\n        options:[],\r\n        previewVisible: false,\r\n        previewImage: '',\r\n        previewTitle: '',\r\n        fileList: [],\r\n    }\r\n\r\n    formRef = React.createRef();\r\n\r\n    editorRef = React.createRef();\r\n\r\n    handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await this.getBase64(file.originFileObj);\r\n        }\r\n\r\n        this.setState({\r\n            previewImage: file.url || file.preview,\r\n            previewVisible: true,\r\n            previewTitle: file.name || file.url.substring(file.url.lastIndexOf('/') + 1),\r\n        });\r\n    };\r\n\r\n    handleChange = ({ file, fileList }) => {\r\n        console.log('handleChange(): ', file, fileList);\r\n        if(file.status === 'done') {\r\n            const result = file.response;\r\n            if(result.status === 0) {\r\n                message.success('upload successful!');\r\n                const {name, url} = result.data;\r\n                file = fileList[fileList.length - 1];\r\n                file.name = name;\r\n                file.url = url;\r\n            } else {\r\n                message.error('upload failed!');\r\n            }\r\n        }\r\n        if(file.status === 'removed') {\r\n            const fileName = file.name;\r\n            reqDeleteImg(fileName)\r\n                .then(\r\n                    response => {\r\n                        if(response.data.status === 0)\r\n                            message.success('deletion successful!')\r\n                        else\r\n                            message.error('deletion failed!')\r\n                    }\r\n                )\r\n                .catch(\r\n                    err => {\r\n                        message.error('deletion failed! reason: ' + err.message)\r\n                    }\r\n                )\r\n        }\r\n        this.setState({fileList})\r\n    }\r\n\r\n    getBase64 = file => {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n\r\n    onFinish = () => {\r\n        const data = this.formRef.current.getFieldsValue();\r\n        const imgs = this.state.fileList.map(cItem => (\r\n            cItem.name\r\n        ))\r\n        data.imgs = imgs;\r\n        const categoryInfo = data.productCategory;\r\n        if(categoryInfo.length === 1) {\r\n            data.pCategoryId = '0';\r\n            data.categoryId = categoryInfo[0];\r\n        } else {\r\n            data.pCategoryId = categoryInfo[0];\r\n            data.categoryId = categoryInfo[1];\r\n        }\r\n\r\n        const detail = this.editorRef.current.getContent();\r\n        data.detail = detail;\r\n        console.log(\"send detail: \");\r\n        console.log(detail);\r\n        if(!this.isUpdate)\r\n            reqAddProduct(data)\r\n                .then(\r\n                    response => {\r\n                        const result = response.data.data\r\n                        console.log(\"result of submit: \")\r\n                        console.log(result);\r\n                        this.props.history.goBack();\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        message.error('error when adding product! ' + error.message);\r\n                    }\r\n                );\r\n        else {\r\n            data._id = this.state._id;\r\n            reqUpdateProduct(data)\r\n                .then(\r\n                    response => {\r\n                        if(response.data.status === 0) {\r\n                            message.success(\"update successful! \")\r\n                        } else {\r\n                            message.error((\"update failed!\"))\r\n                        }\r\n                        this.props.history.goBack();\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        message.error('error when adding product! ' + error.message);\r\n                    }\r\n                )\r\n        }\r\n    }\r\n\r\n    getCategoryList = (parentId) => {\r\n        reqCategoryList(parentId).then(\r\n            response => {\r\n                const categorys = response.data.data;\r\n                if(parentId === '0') {\r\n                    this.iniOptions(categorys);\r\n                } else {\r\n                    this.setState({\r\n                        categorys: categorys\r\n                    });\r\n                }\r\n            }\r\n        ).catch(\r\n            error => {\r\n                message.error(\"get category list failed! reason: \" + error.message)\r\n            }\r\n        )\r\n    }\r\n\r\n    iniOptions = (categorys) => {\r\n        const options = categorys.map(cItem => ({\r\n            value: cItem._id,\r\n            label: cItem.name,\r\n            isLeaf: false,\r\n        }))\r\n        // console.log(\"options: \")\r\n        // console.log(options)\r\n\r\n        const {isUpdate, product} = this;\r\n        // eslint-disable-next-line\r\n        const {pCategoryId, categoryId} = product;\r\n        // console.log(\"iniOptions(): \")\r\n        // console.log(pCategoryId, categoryId)\r\n        if(isUpdate && pCategoryId !== '0') {\r\n            reqCategoryList(pCategoryId).then(\r\n                response => {\r\n                    const categorys = response.data.data;\r\n                    // console.log(\"categorys: \")\r\n                    // console.log(categorys)\r\n                    const subCategory = categorys.map(c => ({\r\n                        label: c.name,\r\n                        value: c._id,\r\n                        isLeaf: true\r\n                    }))\r\n                    const levelOne = options.find(option => (option.value === pCategoryId));\r\n                    levelOne.children = subCategory;\r\n                    // console.log(\"LevelOne: \"+levelOne)\r\n                    this.setState({\r\n                        options: [...options]\r\n                    })\r\n                }\r\n            ).catch(\r\n                error => {\r\n                    message.error(\"get category list failed! reason: \" + error.message)\r\n                }\r\n            )\r\n        }\r\n        this.setState({\r\n            options\r\n        })\r\n    }\r\n\r\n    loadData = selectedOptions => {\r\n        const targetOption = selectedOptions[0];\r\n        targetOption.loading = true;\r\n        //console.log(targetOption)\r\n        reqCategoryList(targetOption.value)\r\n            .then(\r\n                response => {\r\n                    targetOption.loading = false;\r\n                    const data = response.data.data;\r\n                    if(data && data.length > 0) {\r\n                        const children = data.map(c => ({\r\n                            label: c.name,\r\n                            value: c._id,\r\n                            isLeaf: true\r\n                        }))\r\n                        targetOption.children = children;\r\n                    } else {\r\n                        targetOption.isLeaf = true;\r\n                        this.setState({\r\n                            options: [...this.state.options]\r\n                        })\r\n                    }\r\n                    this.setState({\r\n                        options: [...this.state.options]\r\n                    })\r\n                }\r\n            ).catch(\r\n                error => {\r\n                    message.error(\"get category list failed! reason: \" + error.message)\r\n                }\r\n            )\r\n\r\n\r\n    };\r\n\r\n    setFormInfo = (product) => {\r\n        const {pCategoryId, categoryId, name, desc, detail, price, imgs, _id} = product;\r\n        const categoryInfo = [];\r\n        if(pCategoryId === '0')\r\n            categoryInfo.push(categoryId);\r\n        else {\r\n            categoryInfo.push(pCategoryId);\r\n            categoryInfo.push(categoryId);\r\n        }\r\n        this.formRef.current.setFieldsValue({\r\n            name: name,\r\n            productCategory: categoryInfo,\r\n            desc: desc,\r\n            price: price,\r\n            detail: detail\r\n        })\r\n        //set imgs\r\n        const fileList = imgs.map(img => ({\r\n            uid: img,\r\n            name: img,\r\n            status: 'done',\r\n            url: '/upload/'+img,\r\n        }))\r\n        this.setState({fileList, _id: _id})\r\n        console.log(\"fileList(): \")\r\n        console.log(fileList)\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        const product = this.props.location.state;\r\n        this.isUpdate = !!product;\r\n        this.product = product || {};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCategoryList('0');\r\n        if(this.isUpdate) {\r\n            this.setFormInfo(this.product);\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                span: 4\r\n            },\r\n            wrapperCol: {\r\n                span: 8\r\n            }\r\n        };\r\n\r\n        const uploadButton = (\r\n            <div>\r\n                <PlusOutlined />\r\n                <div className=\"ant-upload-text\">Upload</div>\r\n            </div>\r\n        );\r\n\r\n        let detail;\r\n        if(this.isUpdate) detail = this.product.detail;\r\n        else detail ='';\r\n\r\n        const title = <span style={{fontsize: 20}}>\r\n            <Button type = 'link' onClick={() => this.props.history.goBack()}>\r\n                <ArrowLeftOutlined />\r\n            </Button>\r\n            {this.isUpdate ? 'Modify ' : 'Add '}Product\r\n        </span>\r\n\r\n\r\n        const {fileList, previewVisible, previewTitle, previewImage} = this.state;\r\n\r\n        return (\r\n            <Card title = {title} className='add-product'>\r\n                <Form\r\n                    {...formItemLayout}\r\n                    name = 'addProduct'\r\n                    onFinish = {this.onFinish}\r\n                    scrollToFirstError\r\n                    ref = {this.formRef}\r\n                    >\r\n                    <Item\r\n                        name = 'name'\r\n                        label = 'Product Name'\r\n                        rules = {[\r\n                            {\r\n                                required: true,\r\n                                message: 'Product name is required'\r\n                            }\r\n                        ]}\r\n                        >\r\n                        <Input placeholder='Please input product name'/>\r\n                    </Item>\r\n\r\n                    <Item\r\n                        name = 'desc'\r\n                        label = 'Product Desc'\r\n                        rules = {[\r\n                            {\r\n                                required: true,\r\n                                message: 'Product description is required'\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <TextArea placeholder='Please input product description'/>\r\n                    </Item>\r\n\r\n                    <Item\r\n                        name = 'price'\r\n                        label = 'Product Price'\r\n                        rules = {[\r\n                            {\r\n                                required: true,\r\n                                message: 'Product price is required!'\r\n                            },\r\n                            ({ getFieldValue }) => ({\r\n                                validator(rule, value) {\r\n                                    if (value > 0)  {\r\n                                        return Promise.resolve();\r\n                                    }\r\n                                    return Promise.reject('The price must be greater than 0!');\r\n                                },\r\n                            }),\r\n                        ]}\r\n                    >\r\n                        <Input prefix = '$' placeholder='Please input product price' type = 'number'/>\r\n                    </Item>\r\n\r\n                    <Item\r\n                        name = 'productCategory'\r\n                        label = 'Product Category'\r\n                        rules = {[\r\n                            {\r\n                                required: true,\r\n                                message: 'Product category is required'\r\n                            }\r\n                        ]}\r\n                    >\r\n                        <Cascader\r\n                            options={this.state.options}\r\n                            loadData={this.loadData}\r\n                            onChange={this.onChange}\r\n                            changeOnSelect\r\n                        />\r\n                    </Item>\r\n\r\n                    <Item\r\n                        name = 'imgs'\r\n                        label = 'Product Images'\r\n                    >\r\n                        <div className=\"clearfix\">\r\n                            <Upload\r\n                                action=\"/manage/img/upload\"\r\n                                listType=\"picture-card\"\r\n                                fileList={fileList}\r\n                                onPreview={this.handlePreview}\r\n                                onChange={this.handleChange}\r\n                                accept='image/*'\r\n                                name = 'image'\r\n                            >\r\n                                {fileList.length >= 4 ? null : uploadButton}\r\n                            </Upload>\r\n                            <Modal\r\n                                visible={previewVisible}\r\n                                title={previewTitle}\r\n                                footer={null}\r\n                                onCancel={this.handleCancel}\r\n                            >\r\n                                <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n                            </Modal>\r\n                        </div>\r\n                    </Item>\r\n\r\n                    <Item\r\n                        name = 'detail'\r\n                        label = 'Product Details'\r\n                        labelCol = {{span: 2}}\r\n                        wrapperCol = {{span: 15}}\r\n                    >\r\n                        <RichTextEditor\r\n                            initialInput = {detail}\r\n                            ref = {this.editorRef}\r\n                        />\r\n                    </Item>\r\n                    <Button htmlType=\"submit\" className=\"login-form-button\" type=\"primary\">Submit</Button>\r\n                </Form>\r\n            </Card>\r\n\r\n        )\r\n    }\r\n\r\n\r\n}","import React, {Component} from 'react'\r\nimport {Card, List, Button, message} from 'antd'\r\nimport {ArrowLeftOutlined, ArrowRightOutlined} from \"@ant-design/icons\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {reqSearchCategoryName} from \"../../api\";\r\n\r\nconst Item = List.Item\r\n\r\nexport default class ProductDetail extends Component {\r\n\r\n    state = {\r\n        categoryName: '',\r\n        pCategoryName: ''\r\n    }\r\n\r\n    getCategoryName = (pCategoryId, categoryId) => {\r\n        if(!pCategoryId || !categoryId) return;\r\n        if(pCategoryId === '0') {  //It's in level 1 category\r\n            console.log('search for: ' + categoryId);\r\n            reqSearchCategoryName(categoryId)\r\n                .then(\r\n                    response => {\r\n                        const name = response.data.data.name;\r\n                        this.setState({\r\n                            categoryName: name\r\n                        })\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        message.error('failure when search categoryName!' + error.message);\r\n                    }\r\n                )\r\n        } else {\r\n            let categoryName = '', pCategoryName = '';\r\n\r\n            reqSearchCategoryName(categoryId)\r\n                .then(\r\n                    response => {\r\n                        categoryName = response.data.data.name;\r\n                        this.setState({\r\n                            categoryName\r\n                        })\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        message.error('failure when search categoryName!');\r\n                    }\r\n                )\r\n\r\n            reqSearchCategoryName(pCategoryId)\r\n                .then(\r\n                    response => {\r\n                        pCategoryName = response.data.data.name;\r\n                        this.setState({\r\n                            pCategoryName\r\n                        })\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        message.error('failure when search parent categoryName!');\r\n                    }\r\n                )\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    UNSAFE_componentWillMount() {\r\n        const data = this.props.location.query;\r\n        if(!data) return <Redirect to='/product'/>;\r\n        const {pCategoryId, categoryId} = data;\r\n        this.getCategoryName(pCategoryId, categoryId);\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const data = this.props.location.query;\r\n        if(!data) return <Redirect to='/product'/>;\r\n        const {desc, name, price, imgs, detail} = data;\r\n        const title = <span style={{fontsize: 20}}>\r\n            <Button type = 'link' onClick={this.props.history.goBack}>\r\n                <ArrowLeftOutlined />\r\n            </Button>\r\n            Product Details\r\n        </span>\r\n        console.log(\"Product detail: \")\r\n        console.log(data);\r\n\r\n        console.log(\"imgs:\");\r\n        console.log(imgs)\r\n\r\n        let imgsTag;\r\n        if(imgs && imgs.length >= 1)\r\n            imgsTag = (<div>\r\n            {\r\n                imgs.map(imgOne => {\r\n                    console.log(\"imgOne(): \");\r\n                    console.log(imgOne);\r\n                    return <img src = {'/upload/'+imgOne}  alt = 'img' key = {imgOne} style = {{border:'1px solid grey', height: 160, margin: '20px 20px 15px 15px'}} />;\r\n                })\r\n            }\r\n        </div>);\r\n        else\r\n            imgsTag = <div></div>\r\n        console.log(\"imgsTag: \");\r\n        console.log(imgsTag);\r\n\r\n        const {categoryName, pCategoryName} = this.state;\r\n\r\n        let categoryTag;\r\n        if(pCategoryName) {\r\n            categoryTag = <span>\r\n                <span>{pCategoryName}&nbsp;&nbsp;<ArrowRightOutlined />&nbsp;&nbsp;</span>\r\n                <span>{categoryName}</span>\r\n            </span>\r\n        } else\r\n            categoryTag = <span>{categoryName}</span>\r\n        return (\r\n            <Card title = {title} className='product-detail'>\r\n                <List\r\n                    bordered\r\n                >\r\n                    <Item>\r\n                        <span className='list-item'>\r\n                            <span className='left-col'>Product Name:</span>\r\n                            <span className='right-col'>{name}</span>\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='list-item'>\r\n                            <span className='left-col'>Product Desc:</span>\r\n                            <span className='right-col'>{desc}</span>\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='list-item'>\r\n                            <span className='left-col'>Product Price:</span>\r\n                            <span className='right-col'>${price}</span>\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='list-item'>\r\n                            <span className='left-col'>Category Name:</span>\r\n                            <span className='right-col'>{categoryTag}</span>\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='list-item'>\r\n                            <span className='left-col'>Product Pictures:</span>\r\n                            <span className='right-col'>{imgsTag}</span>\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='list-item'>\r\n                            <span className='left-col'>Product Detail:</span>\r\n                            <span className='right-col'  dangerouslySetInnerHTML={{__html: detail}}></span>\r\n                        </span>\r\n                    </Item>\r\n                </List>\r\n            </Card>\r\n\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Button, Card, Form, Input, message, Select, Table, Modal} from \"antd\";\r\nimport {PlusOutlined} from \"@ant-design/icons\";\r\nimport {reqDeleteProduct, reqProductList, reqSearchProduct, reqUpdateProductStatus} from '../../api/index'\r\nimport {PAGE_SIZE} from '../../utils/constants'\r\n\r\n\r\nconst {Option} = Select;\r\n\r\nexport default class ProductHome extends Component {\r\n\r\n\r\n    state = {\r\n        productList: [],\r\n        total: 0,\r\n        pageNum: 1,\r\n        loading: true,\r\n        visible: false\r\n    }\r\n\r\n    searchResult = (pageNum) => {\r\n\r\n        const {formData} = this.state;\r\n        const searchData = {\r\n            pageNum: pageNum,\r\n            pageSize: PAGE_SIZE\r\n        };\r\n        if(formData[0].value === '0')\r\n            searchData.productName = formData[1].value;\r\n        else\r\n            searchData.productDesc = formData[1].value;\r\n\r\n        console.log(\"search Data(): \", searchData);\r\n        reqSearchProduct(searchData)\r\n            .then(\r\n                response => {\r\n                    //console.log('Yeah!');\r\n                    console.log(\"search result: \", response.data);\r\n                    const list = response.data.data.list;\r\n                    const total = response.data.data.total;\r\n                    this.setState({\r\n                        productList: list,\r\n                        total,\r\n                        pageNum: 1,\r\n                        loading: false\r\n                    })\r\n                }\r\n            )\r\n            .catch(\r\n                error => {\r\n                    message.error(\"search product list failed! reason: \" + error.message);\r\n                }\r\n            )\r\n    };\r\n\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n\r\n    hideModal = () => {\r\n        this.setState({\r\n            visible: false\r\n        });\r\n    };\r\n\r\n    tableInitializer = () => {\r\n        this.columns = [\r\n            {\r\n                title: 'Product Name',\r\n                dataIndex: 'name'\r\n            },\r\n            {\r\n                title: 'Product Description',\r\n                dataIndex: 'desc'\r\n            },\r\n            {\r\n                title: 'Price',\r\n                render: (product) => '$'+product.price\r\n            },\r\n            {\r\n                title: 'Status',\r\n                render: (product) => {\r\n                    if(product.status === 1) { //this product is on sale\r\n                        return <span>\r\n                            <Button onClick={() => this.updateProductStatus(product._id, 2)} type = 'primary'>Withdraw</Button><br />\r\n                            <span style = {{color: 'blue'}}>available</span>\r\n                        </span>\r\n                    } else {\r\n                        return <span>\r\n                            <Button onClick={() => this.updateProductStatus(product._id, 1)} type = 'primary'>Launch</Button><br />\r\n                            <span style = {{color: 'red'}}>unavailable</span>\r\n                        </span>\r\n                    }\r\n\r\n                }\r\n            },\r\n            {\r\n                title: 'Operation',\r\n                render: (product) => {\r\n                    return (\r\n                        <div>\r\n                            <Button type = 'link' name='details' onClick={() => this.getProductDetails(product)}>\r\n                                details\r\n                            </Button>\r\n                            <Button type = 'link' name='modify' onClick={() => this.props.history.push('/product/addupdate', product)}>\r\n                                modify\r\n                            </Button>\r\n                            <Button type = 'link' name='delete' onClick={() => this.confirmDeletion(product)}>\r\n                                delete\r\n                            </Button>\r\n                            <Modal\r\n                                title={\"Delete \" + product.name}\r\n                                visible={this.state.visible}\r\n                                onOk={() => this.deleteProducts(product)}\r\n                                onCancel={this.hideModal}\r\n                            >\r\n                                <p>Are you sure to delete <br /><span style={{fontWeight:'bold', color: 'red', fontSize: 20}}>{product.name}</span></p>\r\n                            </Modal>\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        ];\r\n    }\r\n\r\n    onPageChange = (page) => {\r\n        this.getProductList(page);\r\n        this.setState({\r\n            pageNum: page\r\n        })\r\n    }\r\n\r\n    updateProductStatus = (productId, status) => {\r\n        reqUpdateProductStatus({productId, status})\r\n            .then(\r\n                response => {\r\n                    console.log(response)\r\n                    if(response.data.status === 0) {\r\n                        message.success('update Successful!');\r\n                        this.getProductList(this.state.pageNum, PAGE_SIZE);\r\n                    } else {\r\n                        message.error('update Failed!')\r\n                    }\r\n                }\r\n            )\r\n            .catch(\r\n                error => {\r\n                    message.error(\"update failed! reason: \" + error.message);\r\n                }\r\n            )\r\n    };\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.tableInitializer();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProductList(1, PAGE_SIZE);\r\n    }\r\n\r\n    getProductList = (pageNum) => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        const {formData} = this.state;\r\n        if(!formData) {\r\n            console.log(\"show product home list!\");\r\n            reqProductList(pageNum, PAGE_SIZE)\r\n                .then(\r\n                    (response) => {\r\n                        const list = response.data.data.list\r\n                        const totalNum = response.data.data.total;\r\n                        this.setState({\r\n                            productList: list,\r\n                            total: totalNum,\r\n                            loading: false\r\n                        })\r\n                    }\r\n                )\r\n                .catch(\r\n                    error => {\r\n                        message.error(\"get product list failed! reason: \" + error.message)\r\n                    }\r\n                )\r\n\r\n        } else {\r\n            console.log(\"show search result!\");\r\n            this.searchResult(pageNum);\r\n        }\r\n    }\r\n\r\n    getProductDetails = (product) => {\r\n        console.log(product)\r\n        let path = {\r\n            pathname:'/product/detail',\r\n            query:product,\r\n        }\r\n        this.props.history.push(path);\r\n    }\r\n\r\n    render() {\r\n        const title = <Form\r\n            name = 'searchForm'\r\n            layout='inline'\r\n            ref = {this.formRef}\r\n            onFieldsChange={(changedFields, allFields) => {\r\n                this.setState({\r\n                    formData: allFields\r\n                });\r\n            }}\r\n            onFinish={() => this.getProductList(1)}\r\n        >\r\n            <Form.Item name = 'selectInput' initialValue = \"0\">\r\n                <Select >\r\n                    <Option value=\"0\">Search by name</Option>\r\n                    <Option value=\"1\">Search by description</Option>\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item name = 'searchInput'>\r\n                <Input placeholder=\"keywords\" />\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <Button htmlType=\"submit\" className=\"login-form-button\" type=\"primary\">\r\n                    Search\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>;\r\n\r\n        const extra = <span>\r\n            <Button onClick={() => this.props.history.push('/product/addupdate')} type=\"primary\" icon = {<PlusOutlined />}>Add Product</Button>\r\n        </span>;\r\n\r\n        return (\r\n            <Card className=\"productHome\" title={title} extra={extra}>\r\n                <Table\r\n                    dataSource={this.state.productList}\r\n                    columns={this.columns}\r\n                    rowKey = '_id'\r\n                    pagination={{\r\n                        pageSize: PAGE_SIZE,\r\n                        total:this.state.total,\r\n                        onChange: this.onPageChange,\r\n                        current: this.state.pageNum,\r\n                    }}\r\n                    loading = {this.state.loading}\r\n                />;\r\n            </Card>\r\n        )\r\n    }\r\n\r\n\r\n    deleteProducts = product => {\r\n        const {_id} = product;\r\n        reqDeleteProduct(_id)\r\n            .then(\r\n                response => {\r\n                    const result = response.data\r\n                    if(result.status === 0) {\r\n                        message.success(\"deletion successful!\");\r\n                        this.getProductList(this.state.pageNum);\r\n                    } else {\r\n                        message.error(\"deletion failed!\");\r\n                    }\r\n                }\r\n            )\r\n            .catch(\r\n                err => {\r\n                    message.error(\"deletion failed! reason: \"+err.message);\r\n                }\r\n            )\r\n        this.getProductList(this.state.pageNum);\r\n    }\r\n\r\n\r\n    confirmDeletion() {\r\n        this.showModal();\r\n    }\r\n}","/*\r\n    file to store all constants used in the application\r\n */\r\n\r\nexport const PAGE_SIZE = 5;\r\n\r\nexport const URL_BASE = 'http://localhost:5000';","import React, {Component} from 'react'\r\nimport ProductAddUpdate from \"./add-update\";\r\nimport ProductDetail from \"./detail\";\r\nimport ProductHome from \"./home\";\r\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\r\nimport './product.less'\r\nexport default class Product extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <BrowserRouter>\r\n                    <Switch>\r\n                        <Route path='/product/addupdate' component={ProductAddUpdate}/>\r\n                        <Route path='/product/detail' component={ProductDetail}/>\r\n                        <Route path='/product' component={ProductHome} />\r\n                    </Switch>\r\n                </BrowserRouter>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Table, Button, Divider, message, Modal, Form, Input, Tree} from 'antd'\r\nimport {reqRoleList, reqAddRole, reqUpdateRole} from \"../../api\";\r\nimport {PAGE_SIZE} from \"../../utils/constants\";\r\nimport menuList from \"../../config/menuList\";\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\nimport {formatDate} from \"../../utils/dateUtils\"\r\nimport storageUtils from \"../../utils/storageUtils\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default class Role extends Component {\r\n\r\n    addForm = React.createRef();\r\n    modifyForm = React.createRef();\r\n    state = {\r\n        selectedRole: {},\r\n        roles: [],\r\n        loading: true,\r\n        visible: 0,\r\n        selectedKeys: [],\r\n        modifiedRole: {},\r\n    }\r\n\r\n    tableInitializer = () => {\r\n        this.columns = [\r\n            {\r\n                title: 'Role name',\r\n                dataIndex: 'name',\r\n            },\r\n            {\r\n                title: 'Created time',\r\n                dataIndex: 'create_time',\r\n                render: create_time => formatDate(create_time),\r\n            },\r\n            {\r\n                title: 'Authorized time',\r\n                dataIndex: 'auth_time',\r\n                render: auth_time => formatDate(auth_time),\r\n            },\r\n            {\r\n                title: 'Authorizer',\r\n                dataIndex: 'auth_name',\r\n            },\r\n        ];\r\n    }\r\n\r\n    getRoleList() {\r\n\r\n        reqRoleList()\r\n            .then(\r\n                response => {\r\n                    const result = response.data.data;\r\n                    const roles = result.map(role => ({\r\n                        key: role._id,\r\n                        name: role.name,\r\n                        create_time: role.create_time,\r\n                        menus: role.menus,\r\n                        auth_time: role.auth_time,\r\n                        auth_name: role.auth_name\r\n                    }))\r\n                    this.setState({\r\n                        roles,\r\n                        loading: false\r\n                    });\r\n                }\r\n            )\r\n            .catch(\r\n                err => {\r\n                    message.error(\"error when get role list! reason: \"+err.message)\r\n                }\r\n            )\r\n    }\r\n\r\n    getMenuList= menuList => {\r\n        return menuList.map(item => ({\r\n            title: item.title,\r\n            key: item.key,\r\n            children: (item.children ? this.getMenuList(item.children) : []),\r\n        }))\r\n    }\r\n\r\n    setAccess = () => {\r\n        const formData = this.state.selectedRole;\r\n        console.log(\"selectedRole: \", formData);\r\n        this.setState({\r\n            visible: 2,\r\n            checkedKeys: formData.menus,\r\n            modifiedRole: formData,\r\n        });\r\n        this.modifyForm.current.setFieldsValue({\r\n            roleName: formData.name,\r\n        });\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: 1\r\n        });\r\n    }\r\n\r\n    handleOk = () => {\r\n        this.setState({\r\n            visible: 0,\r\n        });\r\n        const name = this.addForm.current.getFieldsValue().inputName;\r\n\r\n        if(name && name !== \"\") {\r\n            reqAddRole(name)\r\n                .then(\r\n                    response => {\r\n                        const result = response.data;\r\n                        if(result.status === 0) {\r\n                            message.success(\"add new role successful!\");\r\n                            this.getRoleList();\r\n                        } else {\r\n                            message.error(\"add new role failed!\");\r\n                        }\r\n                    }\r\n                )\r\n                .catch(\r\n                    err => {\r\n                        message.error(\"add new role failed! reason: \"+err.message);\r\n                    }\r\n                )\r\n        }\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: 0,\r\n        });\r\n    };\r\n\r\n    onRow = (role) => {\r\n        return {\r\n            onClick: () => {\r\n                console.log('row onClick()', role);\r\n                this.setState({\r\n                    selectedRole: role\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    submit = () => {\r\n        const {modifiedRole} = this.state;\r\n        console.log(modifiedRole);\r\n        const {key} = modifiedRole;\r\n        let data = {};\r\n        data._id = key;\r\n        data.auth_time = new Date().valueOf();\r\n        data.auth_name = memoryUtils.user.username;\r\n        data.menus = this.state.checkedKeys;\r\n        console.log(\"data: \");\r\n        console.log(data);\r\n        reqUpdateRole(data)\r\n            .then(\r\n                response => {\r\n\r\n                    const result = response.data;\r\n                    if(result.status === 0) {\r\n                        if(data._id === memoryUtils.user.role._id) {\r\n                            memoryUtils.user = {};\r\n                            storageUtils.removeUser();\r\n                            this.props.history.replace('/login');\r\n                            this.props.history.go();\r\n                            message.info(\"current role access has been modified! Please login again!\");\r\n                            this.setState();\r\n                        } else {\r\n                            message.success(\"update successful!\");\r\n                            this.handleCancel();\r\n                        }\r\n\r\n                    } else {\r\n                        message.error(\"update failed!\");\r\n                        this.handleCancel();\r\n                    }\r\n                }\r\n            )\r\n            .catch(\r\n                err => {\r\n                    message.error(\"update failed! reason: \"+err.message);\r\n                    this.handleCancel();\r\n                }\r\n            )\r\n        this.setState({\r\n            checkedKeys: data.menus,\r\n        });\r\n        this.getRoleList();\r\n        setTimeout(() => {\r\n            const newRole = this.state.roles.find(cItem => cItem.key === key);\r\n            console.log(\"newRole: \", newRole)\r\n            this.setState({\r\n                selectedRole: newRole,\r\n            })\r\n        }, 1000);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.tableInitializer();\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.getRoleList();\r\n        this.treeData = this.getMenuList(menuList);\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if(!memoryUtils.user || !storageUtils.getUser()) {\r\n            //console.log(\"No!\");\r\n            return <Redirect to='/login'/>\r\n        }\r\n\r\n        const {selectedKeys} = this.state;\r\n\r\n        // rowSelection object indicates the need for row selection\r\n        const rowSelection = {\r\n            onChange: (selectedRowKeys, selectedRows) => {\r\n                console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\r\n                this.setState({\r\n                    selectedRole: selectedRows[0]\r\n                })\r\n            }\r\n        };\r\n\r\n        const onSelect = (selectedKeys, info) => {\r\n            //console.log('onSelect', info);\r\n            this.setState({selectedKeys});\r\n        };\r\n\r\n        return (\r\n            <div style={{padding: 20}}>\r\n                <span>\r\n                    <Form\r\n                        ref = {this.addForm}\r\n                        onFinish = {this.handleOk}\r\n                    >\r\n                        <Modal\r\n                            title=\"Add new role\"\r\n                            visible={this.state.visible === 1}\r\n                            onOk={this.handleOk}\r\n                            onCancel={this.handleCancel}\r\n                        >\r\n                          <Form.Item\r\n                              name = \"inputName\"\r\n                              label = \"Role Name: \"\r\n                              rules={[\r\n                                  {\r\n                                      required: true,\r\n                                      message: 'Please input role name!'\r\n                                  }\r\n                              ]}\r\n                          >\r\n                              <Input placeholder = 'role name is required!' />\r\n                          </Form.Item>\r\n                        </Modal>\r\n                    </Form>\r\n\r\n                    <Form\r\n                        ref = {this.modifyForm}\r\n                    >\r\n                        <Modal\r\n                            title=\"modify access\"\r\n                            visible={this.state.visible === 2}\r\n                            onOk={this.submit}\r\n                            onCancel={this.handleCancel}\r\n                        >\r\n                          <Form.Item\r\n                              name = \"roleName\"\r\n                              label = \"Role Name: \"\r\n                          >\r\n                              <Input disabled/>\r\n                          </Form.Item>\r\n\r\n                           <Form.Item\r\n                                name = \"roleName\"\r\n                                label = \"Role Name: \"\r\n                           >\r\n                              <Tree\r\n                                  checkable = \"false\"\r\n                                  autoExpandParent=\"true\"\r\n                                  onSelect={onSelect}\r\n                                  selectedKeys={selectedKeys}\r\n                                  treeData={this.treeData}\r\n                                  selectable=\"false\"\r\n                                  defaultExpandAll=\"true\"\r\n                              />\r\n                           </Form.Item>\r\n\r\n                        </Modal>\r\n                    </Form>\r\n\r\n                    <Button\r\n                        name = 'create-new'\r\n                        type = 'primary'\r\n                        onClick={this.showModal}\r\n                        style={{marginTop: 15, marginBottom: 15, marginLeft: 15, borderRadius: 5}}\r\n                    >\r\n                        Create New\r\n                    </Button>\r\n                    <Button\r\n                        name = 'set-access'\r\n                        type = 'primary'\r\n                        onClick={this.setAccess}\r\n                        disabled={!this.state.selectedRole.key}\r\n                        style={{marginLeft: 15, marginRight: 15, borderRadius: 5}}\r\n                    >\r\n                        Set Access\r\n                    </Button>\r\n                </span>\r\n                <Divider />\r\n                <Table\r\n                    rowSelection={{\r\n                        type: 'radio',\r\n                        selectedRowKeys: [this.state.selectedRole.key],\r\n                        ...rowSelection,\r\n                    }}\r\n                    bordered\r\n                    rowKey = 'key'\r\n                    loading= {this.state.loading}\r\n                    columns={this.columns}\r\n                    dataSource={this.state.roles}\r\n                    pagination={{pageSize: PAGE_SIZE}}\r\n                    onRow = {this.onRow}\r\n                />\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n}","import React, {Component} from 'react'\r\nimport Role from \"./home\";\r\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\r\nexport default class Product extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <BrowserRouter>\r\n                    <Switch>\r\n                        <Route path='/role' component={Role}/>\r\n                    </Switch>\r\n                </BrowserRouter>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Table, Button, Divider, message, Modal, Form, Input, Tooltip, Select} from 'antd'\r\nimport {reqAddUser, reqDeleteUser, reqUpdateUser, reqUserList} from \"../../api\";\r\nimport {PAGE_SIZE} from \"../../utils/constants\";\r\nimport {formatDate} from \"../../utils/dateUtils\"\r\nimport {QuestionCircleOutlined} from '@ant-design/icons'\r\n\r\nconst Option = Select.Option\r\n\r\nexport default class User extends Component {\r\n\r\n    addForm = React.createRef();\r\n    state = {\r\n        users: [],\r\n        roles: [],\r\n        loading: true,\r\n        visible: 0,\r\n        addOrUpdate: 0,\r\n    }\r\n\r\n    tableInitializer = () => {\r\n        this.columns = [\r\n            {\r\n                title: 'User name',\r\n                dataIndex: 'username',\r\n            },\r\n            {\r\n                title: 'email',\r\n                dataIndex: 'email',\r\n            },\r\n            {\r\n                title: 'phone',\r\n                dataIndex: 'phone',\r\n            },\r\n            {\r\n                title: 'Create time',\r\n                dataIndex: 'create_time',\r\n                render: create_time => formatDate(create_time),\r\n            },\r\n            {\r\n                title: 'Role Info',\r\n                dataIndex: 'role_id',\r\n            },\r\n            {\r\n                title: 'operation',\r\n                render: (user) => {\r\n                    return <span>\r\n                        <Button type='link' onClick={() => this.modifyUser(user)}>modify</Button>\r\n                        <Button type='link' onClick={() => this.deleteUser()}>delete</Button>\r\n                        <Modal\r\n                            title={\r\n                                <span>\r\n                                     <QuestionCircleOutlined /> delete confirmation\r\n                                </span>\r\n                            }\r\n                            visible={this.state.visible === 2}\r\n                            onOk={() => this.delete(user)}\r\n                            onCancel={this.handleCancel}\r\n                        >\r\n                            <p> &nbsp;&nbsp;Are you sure to delete &nbsp;&nbsp;<span style={{color: 'blue', fontSize: 18}}>&nbsp;&nbsp;{user.username}</span></p>\r\n                        </Modal>\r\n                    </span>\r\n                }\r\n            },\r\n        ];\r\n    }\r\n\r\n    modifyUser = (user) => {\r\n        console.log(user);\r\n        this.addForm.current.setFieldsValue({\r\n            inputName: user.username,\r\n            inputPWD: \"admin\",\r\n            inputPhone: user.phone,\r\n            inputEmail: user.email,\r\n            selectRole: user.role_id\r\n        });\r\n        this.setState({\r\n            visible: 1,\r\n            _id: user._id,\r\n            addOrUpdate: 1,\r\n        });\r\n    }\r\n\r\n    deleteUser = () => {\r\n        this.setState({\r\n            visible: 2,\r\n        });\r\n    }\r\n\r\n    delete = (user) => {\r\n        console.log(user);\r\n        const {_id} = user;\r\n        console.log(_id);\r\n        reqDeleteUser(_id)\r\n            .then(\r\n                response => {\r\n                    message.success(\"Deletion successful!\");\r\n                    console.log(response.data);\r\n                    this.getUserList();\r\n                    this.setState({\r\n                        visible: 0,\r\n                    });\r\n                }\r\n            )\r\n            .catch(\r\n                err => {\r\n                    message.error(\"Deletion failed! reason: \"+err.message);\r\n                }\r\n            )\r\n    }\r\n\r\n    getUserList() {\r\n        reqUserList()\r\n            .then(\r\n                response => {\r\n                    const result = response.data.data;\r\n                    const users = result.users.map(user => ({\r\n                        ...user,\r\n                        key: user._id,\r\n                    }));\r\n                    console.log(\"users:\", users);\r\n                    const roles = result.roles;\r\n                    this.setState({\r\n                        roles,\r\n                        loading: false,\r\n                        users: users\r\n                    });\r\n                }\r\n            )\r\n            .catch(\r\n                err => {\r\n                    message.error(\"error when get user list! reason: \"+err.message)\r\n                }\r\n            )\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: 1,\r\n            addOrUpdate: 0\r\n        });\r\n        this.addForm.current.resetFields();\r\n    }\r\n\r\n    handleOk = () => {\r\n        this.addForm.current.validateFields()\r\n            .then(\r\n                values => {\r\n                    let data = {};\r\n                    data.username = values.inputName;\r\n                    data.phone = values.inputPhone;\r\n                    data.email = values.inputEmail;\r\n                    data.role_id = values.selectRole;\r\n                    //if we are adding new users now:\r\n                    if(this.state.addOrUpdate === 0) {\r\n                        data.password = values.inputPWD;\r\n                        reqAddUser(data)\r\n                            .then(\r\n                                response => {\r\n                                    message.success(\"Add user successful!\");\r\n                                    this.getUserList();\r\n                                }\r\n                            )\r\n                            .catch(\r\n                                err => {\r\n                                    message.error(\"Add User failed! reason: \"+err.message);\r\n                                }\r\n                            )\r\n\r\n                    } else {\r\n                        //we are updating new users now!\r\n                        /*\r\n                        \t  |_id       |Y    |string  |ID\r\n                              |username  |N    |string  |\r\n                              |phone     |N    |string  |\r\n                              |email     |N    |string  |\r\n                              |role_id   |N    |string  |ID\r\n                         */\r\n                        data._id = this.state._id;\r\n                        console.log(data);\r\n                        reqUpdateUser(data)\r\n                            .then(\r\n                                () => {\r\n                                    message.success(\"Update user successful!\");\r\n                                    this.getUserList();\r\n                                }\r\n                            )\r\n                            .catch(\r\n                                err => {\r\n                                    message.error(\"Update User failed! reason: \"+err.message);\r\n                                }\r\n                            )\r\n                    }\r\n                    this.setState({\r\n                        visible: 0,\r\n                    });\r\n                }\r\n            )\r\n            .catch(\r\n                errorInfo => {\r\n                    message.error(\"form validation not passed!\");\r\n                }\r\n            )\r\n\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: 0,\r\n        });\r\n    };\r\n\r\n    validator = (rule, value) => {\r\n        const re = /^[0-9a-zA-Z_]*$/\r\n        const length = value && value.length\r\n        if(!value) return Promise.reject('password is required!')\r\n        else if(length > 18) return Promise.reject('password length max 18');\r\n        else if(length < 4) return Promise.reject('password length at least 4');\r\n        else if (!re.test(value)) return Promise.reject('only characters, digits and _ are allowed');\r\n        else return Promise.resolve();\r\n    }\r\n\r\n    getSelectOptions = () => {\r\n        //console.log(\"get select options now!\");\r\n        const {roles} = this.state;\r\n        if(roles && roles.length >= 1) {\r\n            const result = roles.map(role => {\r\n                return <Option value= {role.name} key={role._id}>{role.name}</Option>;\r\n            })\r\n            return result;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.tableInitializer();\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.getUserList();\r\n    }\r\n\r\n    render() {\r\n\r\n        const layout = {\r\n            labelCol: {\r\n                span: 5,\r\n            },\r\n            wrapperCol: {\r\n                span: 18,\r\n            },\r\n        };\r\n\r\n        const title = this.state.addOrUpdate === 0 ? \"Add new User\" : \"Update User information\";\r\n        return (\r\n            <div style={{padding: 20}}>\r\n                <span>\r\n                    <Form\r\n                        ref = {this.addForm}\r\n                        onFinish = {this.handleOk}\r\n                        {...layout}\r\n                    >\r\n                        <Modal\r\n                            title={title}\r\n                            visible={this.state.visible === 1}\r\n                            onOk={this.handleOk}\r\n                            onCancel={this.handleCancel}\r\n                        >\r\n                          <Form.Item\r\n                              name = \"inputName\"\r\n                              label = \"User Name: \"\r\n                              rules={[\r\n                                  {\r\n                                      required: true,\r\n                                      message: 'Please input the username!'},\r\n                                  {\r\n                                      max: 12,\r\n                                      min: 4,\r\n                                      message: 'Please check your input length(4-12)'},\r\n                                  {\r\n                                      pattern: /^[0-9a-zA-Z_]*$/,\r\n                                      message: 'only characters,digits & _ are valid'},\r\n                              ]}\r\n                          >\r\n                              <Input placeholder = 'please input the username' />\r\n                          </Form.Item>\r\n\r\n                          <Form.Item\r\n                              name = \"inputPWD\"\r\n                              label = \"password: \"\r\n                              rules={[\r\n                                  {\r\n                                      validator: this.validator\r\n                                  }\r\n                              ]}\r\n\r\n                          >\r\n                              <Input type = 'password' placeholder = 'please input the password' disabled = {this.state.addOrUpdate !== 0}/>\r\n                          </Form.Item>\r\n\r\n\r\n                          <Form.Item\r\n                              name = \"inputPhone\"\r\n                              label ={\r\n                                  <span>\r\n                                      phone&nbsp;\r\n                                      <Tooltip title=\"We will not sell any of personal information!\">\r\n                                          <QuestionCircleOutlined />\r\n                                      </Tooltip>\r\n                                  </span>\r\n                              }\r\n                              rules = {[\r\n                                  {\r\n                                      pattern: /^[0-9]*$/,\r\n                                      message: \"the phone number can only consists of numbers!\"\r\n                                  }\r\n                              ]}\r\n                          >\r\n                              <Input placeholder = 'please input the phone number' />\r\n                          </Form.Item>\r\n\r\n                          <Form.Item\r\n                              name = \"inputEmail\"\r\n                              label = \"email: \"\r\n                              rules = {[\r\n                                  {\r\n                                      type: \"email\",\r\n                                      message: \"please input valid email!\"\r\n                                  }\r\n                              ]}\r\n                          >\r\n                              <Input placeholder = 'please input the email' />\r\n                          </Form.Item>\r\n\r\n                          <Form.Item\r\n                              name = \"selectRole\"\r\n                              label = \"Role: \"\r\n                              rules = {[\r\n                                  {\r\n                                      required: true,\r\n                                      message: \"Please choose the role of this user!\",\r\n                                  }\r\n                              ]}\r\n                          >\r\n                              <Select placeholder = 'please choose the role'>\r\n                                  {this.getSelectOptions()}\r\n                              </Select>\r\n                          </Form.Item>\r\n\r\n                        </Modal>\r\n                    </Form>\r\n\r\n                    <Button\r\n                        name = 'createNew'\r\n                        type = 'primary'\r\n                        onClick={this.showModal}\r\n                        style={{marginTop: 15, marginBottom: 15, marginLeft: 15, borderRadius: 5}}\r\n                    >\r\n                        Create New\r\n                    </Button>\r\n                </span>\r\n                <Divider />\r\n                <Table\r\n                    bordered\r\n                    rowKey = 'key'\r\n                    loading= {this.state.loading}\r\n                    columns={this.columns}\r\n                    dataSource={this.state.users}\r\n                    pagination={{pageSize: PAGE_SIZE}}\r\n                />\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n\r\n}","import React, {Component} from 'react'\r\n\r\nexport default class Pie extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Pie\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\n\r\nexport default class Line extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Line\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\n\r\nexport default class Bar extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Bar\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react'\r\nimport {Layout} from \"antd\";\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\n//import {message} from 'antd'\r\nimport {Redirect, Route, Switch} from 'react-router-dom'\r\nimport LeftNav from '../../components/left-nav'\r\nimport Header from '../../components/header'\r\nimport Home from \"../home/home\";\r\nimport Category from \"../category/category\";\r\nimport Product from \"../product/product\";\r\nimport Role from \"../role/role\";\r\nimport User from \"../user/user\";\r\nimport Pie from \"../charts/Pie\";\r\nimport Line from \"../charts/line\";\r\nimport Bar from \"../charts/bar\";\r\n//management router component\r\nexport default class Admin extends Component {\r\n    render() {\r\n        const { Footer, Sider, Content } = Layout;\r\n        const user = memoryUtils.user\r\n        if(!user || !user._id) {\r\n            return <Redirect to='/login'/>\r\n        }\r\n        return (\r\n            <Layout style={{minHeight: '100%'}}>\r\n                <Sider>\r\n                    <LeftNav />\r\n                </Sider>\r\n                <Layout>\r\n                    <Header>Header</Header>\r\n                    <Content style={{margin: 20, backgroundColor: '#fff'}}>\r\n                        <Switch>\r\n                            <Route path='/home' component={Home} />\r\n                            <Route path='/category' component={Category}/>\r\n                            <Route path='/product' component={Product} />\r\n                            <Route path = '/role' component={Role} />\r\n                            <Route path='/user' component={User} />\r\n                            <Route path='/bar' component={Bar} />\r\n                            <Route path='/pie' component={Pie} />\r\n                            <Route path='/line' component={Line} />\r\n                            <Redirect to='/home' />\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer style = {{backgroundColor: 'white', textAlign: 'center', color: '#cccccc', height: 50}}>Google Chrome is recommended for better user experience</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","/*\r\n    gate file for the components\r\n */\r\nimport React, {Component} from 'react';\r\nimport {BrowserRouter, Route, Switch} from 'react-router-dom'\r\nimport Login from './pages/login/login'\r\nimport Admin from './pages/admin/admin'\r\n\r\nexport default class App extends Component {\r\n    render() {\r\n        return (\r\n            <BrowserRouter>\r\n                <Switch>\r\n                    <Route path = '/login' component = {Login}></Route>\r\n                    <Route path = '/' component = {Admin}></Route>\r\n                </Switch>\r\n            </BrowserRouter>\r\n        )\r\n    }\r\n}","/*\r\n    gate file for the project\r\n */\r\n\r\nimport React from 'react'\r\nimport ReactDOM  from 'react-dom'\r\nimport 'antd/dist/antd.css'\r\nimport App from './App'\r\nimport storageUtils from \"./utils/storageUtils\";\r\nimport memoryUtils from \"./utils/memoryUtils\";\r\n//render App components into index.html in div 'root'\r\n\r\n//read userInfo in localstorage\r\nconst user = storageUtils.getUser()\r\nmemoryUtils.user = user\r\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}